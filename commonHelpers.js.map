{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.headers.common['x-api-key'] =\n  'live_6vEYdyqrWWmlLRh7wTSmN9YmDqFWmsIhbvPTsjZaX3cBV3miKzP6vjBVaX6xAXlK';\n\nexport async function fetchBreeds() {\n  const url = 'https://api.thecatapi.com/v1/breeds';\n\n  try {\n    const response = await axios.get(url);\n\n    return response.data;\n  } catch (error) {\n    console.error('Сталася помилка при отриманні:', error);\n    throw error;\n  }\n}\n\nexport async function fetchCatByBreed(breedId) {\n  try {\n    const response = await axios.get(\n      'https://api.thecatapi.com/v1/images/search',\n      {\n        params: { breed_ids: breedId },\n      }\n    );\n  \n    return response.data;\n  } catch (error) {\n    console.error('Failed to fetch cat by breed:', error);\n    throw error;\n  }\n}\n","import SlimSelect from 'slim-select';\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api.js';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_6vEYdyqrWWmlLRh7wTSmN9YmDqFWmsIhbvPTsjZaX3cBV3miKzP6vjBVaX6xAXlK';\n\nconst slimSelect = new SlimSelect({\n  select: '#selectElement',\n});\n\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfoDiv = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader-text');\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  if (!breedSelect) {\n    iziToast.error({\n      title: 'Ой! Помилка!',\n      message: `Щось зломалось під час отримання інформації`,\n      position: 'topCenter',\n      timeout: 5000,\n    });\n    return;\n  }\n\n  try {\n    const breeds = await fetchBreeds();\n\n    breeds.forEach(breed => {\n      const option = document.createElement('option');\n      option.value = breed.id;\n      option.textContent = breed.name;\n      slimSelect.addOption(option);\n    });\n  } catch (error) {\n    iziToast.error({\n      title: 'Ой! Помилка!',\n      message: `Щось зломалось під час додавання породи у перелік`,\n      position: 'topCenter',\n      timeout: 5000,\n    });\n    console.error('Error populating breed select:', error);\n  }\n\n  breedSelect.addEventListener('change', async event => {\n    const breedId = event.target.value;\n    if (!breedId) return;\n\n    loader.style.display = 'block';\n    catInfoDiv.style.display = 'none';\n\n    try {\n      const catData = await fetchCatByBreed(breedId);\n\n      if (catData.length > 0) {\n        const cat = catData[0];\n        const breed = cat.breeds[0];\n        catInfoDiv.innerHTML = `\n              <h2 class=\"breed-name\">${breed.name}</h2>\n              <div class=\"breed-info\">\n              <div class=\"breed-img\"><img src=\"${cat.url}\" alt=\"${breed.name}\"></div>\n              <div class=\"desc\">\n              <p class=\"label\">Description:</p> <p class=\"desc-text\"> ${breed.description}</p>\n              <p class=\"label\">Temperament:</p> <p class=\"desc-text\"> ${breed.temperament}</p>\n              </div>\n              </div>\n          `;\n        loader.style.display = 'none';\n        catInfoDiv.style.display = 'block';\n      } else {\n        iziToast.error({\n          title: 'Ой! Помилка!',\n          message: `Схоже, що інформація про цю породу засекречена`,\n          position: 'topCenter',\n          timeout: 5000,\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching cat data:', error);\n      iziToast.error({\n        title: 'Ой! Помилка!',\n        message: `Головний котоексперт не відповідає. Спробуй ще раз`,\n        position: 'topCenter',\n        timeout: 5000,\n      });\n    }\n  });\n});\n"],"names":["axios","fetchBreeds","url","error","fetchCatByBreed","breedId","slimSelect","SlimSelect","breedSelect","catInfoDiv","loader","iziToast","breed","option","event","catData","cat"],"mappings":"+vBACAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEK,eAAeC,GAAc,CAClC,MAAMC,EAAM,sCAEZ,GAAI,CAGF,OAFiB,MAAMF,EAAM,IAAIE,CAAG,GAEpB,IACjB,OAAQC,EAAO,CACd,cAAQ,MAAM,iCAAkCA,CAAK,EAC/CA,CACP,CACH,CAEO,eAAeC,EAAgBC,EAAS,CAC7C,GAAI,CAQF,OAPiB,MAAML,EAAM,IAC3B,6CACA,CACE,OAAQ,CAAE,UAAWK,CAAS,CAC/B,CACP,GAEoB,IACjB,OAAQF,EAAO,CACd,cAAQ,MAAM,gCAAiCA,CAAK,EAC9CA,CACP,CACH,CCzBAH,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEF,MAAMM,EAAa,IAAIC,EAAW,CAChC,OAAQ,gBACV,CAAC,EAEKC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAa,SAAS,cAAc,WAAW,EAC/CC,EAAS,SAAS,cAAc,cAAc,EAEpD,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,GAAI,CAACF,EAAa,CAChBG,EAAS,MAAM,CACb,MAAO,eACP,QAAS,8CACT,SAAU,YACV,QAAS,GACf,CAAK,EACD,MACD,CAED,GAAI,EACa,MAAMV,KAEd,QAAQW,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3BN,EAAW,UAAUO,CAAM,CACjC,CAAK,CACF,OAAQV,EAAO,CACdQ,EAAS,MAAM,CACb,MAAO,eACP,QAAS,oDACT,SAAU,YACV,QAAS,GACf,CAAK,EACD,QAAQ,MAAM,iCAAkCR,CAAK,CACtD,CAEDK,EAAY,iBAAiB,SAAU,MAAMM,GAAS,CACpD,MAAMT,EAAUS,EAAM,OAAO,MAC7B,GAAKT,EAEL,CAAAK,EAAO,MAAM,QAAU,QACvBD,EAAW,MAAM,QAAU,OAE3B,GAAI,CACF,MAAMM,EAAU,MAAMX,EAAgBC,CAAO,EAE7C,GAAIU,EAAQ,OAAS,EAAG,CACtB,MAAMC,EAAMD,EAAQ,CAAC,EACfH,EAAQI,EAAI,OAAO,CAAC,EAC1BP,EAAW,UAAY;AAAA,uCACQG,EAAM,IAAI;AAAA;AAAA,iDAEAI,EAAI,GAAG,UAAUJ,EAAM,IAAI;AAAA;AAAA,wEAEJA,EAAM,WAAW;AAAA,wEACjBA,EAAM,WAAW;AAAA;AAAA;AAAA,YAIjFF,EAAO,MAAM,QAAU,OACvBD,EAAW,MAAM,QAAU,OACnC,MACQE,EAAS,MAAM,CACb,MAAO,eACP,QAAS,iDACT,SAAU,YACV,QAAS,GACnB,CAAS,CAEJ,OAAQR,EAAO,CACd,QAAQ,MAAM,2BAA4BA,CAAK,EAC/CQ,EAAS,MAAM,CACb,MAAO,eACP,QAAS,qDACT,SAAU,YACV,QAAS,GACjB,CAAO,CACF,EACL,CAAG,CACH,CAAC"}